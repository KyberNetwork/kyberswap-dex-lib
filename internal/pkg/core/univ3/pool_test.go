package univ3

import (
	"math/big"
	"testing"

	"github.com/stretchr/testify/assert"

	"github.com/KyberNetwork/router-service/internal/pkg/core/pool"
	"github.com/KyberNetwork/router-service/internal/pkg/entity"
	"github.com/KyberNetwork/router-service/internal/pkg/valueobject"
)

func TestPool_CalcAmountOut(t *testing.T) {
	test1AmountInBI, _ := new(big.Int).SetString("399888202451311482718477", 10)
	test2AmountInBI, _ := new(big.Int).SetString("399888202451311482718477", 10)

	tests := []struct {
		name            string
		entityPool      entity.Pool
		chainId         valueobject.ChainID
		tokenAmountIn   pool.TokenAmount
		tokenOut        string
		expectAmountOut *big.Int
		expectedErr     error
	}{
		{
			name: "it should return correct amount out OP -> USDT via pool 0xf74fca1611a695a81fc1f7052aa5ff2549558ab3",
			entityPool: entity.Pool{
				ReserveUsd:   26426.043125374752,
				AmplifiedTvl: 7.371913656210237e+39,
				SwapFee:      500,
				Tokens: []*entity.PoolToken{
					{Address: "0x4200000000000000000000000000000000000042", Name: "Optimism", Symbol: "OP", Decimals: 18, Weight: 50, Swappable: true},
					{Address: "0x94b008aa00579c1307b0ef2c499ad98a8ce58e58", Name: "Tether USD", Symbol: "USDT", Decimals: 6, Weight: 50, Swappable: true},
				},
				Exchange:    "uniswapv3",
				Type:        "uniswapv3",
				Timestamp:   1681187546,
				Reserves:    []string{"7068992391504054144361", "9890573554"},
				Extra:       "{\"liquidity\":60843406429546494,\"sqrtPriceX96\":121276576943053688486327,\"tick\":-267809,\"ticks\":[{\"index\":-230270,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-244130,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-246370,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-251930,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-255780,\"liquidityGross\":16044464981952896,\"liquidityNet\":-16044464981952896},{\"index\":-259650,\"liquidityGross\":241873446916312,\"liquidityNet\":-241873446916312},{\"index\":-260230,\"liquidityGross\":7859624500212071,\"liquidityNet\":-7859624500212071},{\"index\":-262670,\"liquidityGross\":2125928593356,\"liquidityNet\":-2125928593356},{\"index\":-262800,\"liquidityGross\":114442712373092,\"liquidityNet\":-114442712373092},{\"index\":-264110,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264320,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264540,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264980,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-265350,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-265810,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-265970,\"liquidityGross\":1137024165857705,\"liquidityNet\":-1137024165857705},{\"index\":-266030,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266190,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266210,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266320,\"liquidityGross\":3320451013061215,\"liquidityNet\":-3320451013061215},{\"index\":-266380,\"liquidityGross\":2225642526521845,\"liquidityNet\":-2225642526521845},{\"index\":-266390,\"liquidityGross\":1626755939833567,\"liquidityNet\":-1626755939833567},{\"index\":-266430,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266440,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266520,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266660,\"liquidityGross\":241873446916312,\"liquidityNet\":241873446916312},{\"index\":-266780,\"liquidityGross\":161347080123558,\"liquidityNet\":-161347080123558},{\"index\":-266800,\"liquidityGross\":161347080123558,\"liquidityNet\":161347080123558},{\"index\":-266820,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266830,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267160,\"liquidityGross\":4783201549064,\"liquidityNet\":-4783201549064},{\"index\":-267270,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267480,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267570,\"liquidityGross\":28475738261580710,\"liquidityNet\":-28475738261580710},{\"index\":-267750,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267860,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267880,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267930,\"liquidityGross\":8380491123867,\"liquidityNet\":-8380491123867},{\"index\":-267950,\"liquidityGross\":1553297942468482,\"liquidityNet\":-1536536960220748},{\"index\":-267960,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268000,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268120,\"liquidityGross\":935415776476,\"liquidityNet\":-935415776476},{\"index\":-268140,\"liquidityGross\":935415776476,\"liquidityNet\":935415776476},{\"index\":-268150,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268170,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268180,\"liquidityGross\":926700093309055,\"liquidityNet\":-926700093309055},{\"index\":-268190,\"liquidityGross\":3490534149897200,\"liquidityNet\":-3490534149897200},{\"index\":-268200,\"liquidityGross\":13475628450054853,\"liquidityNet\":-11622228263436743},{\"index\":-268210,\"liquidityGross\":5140208880729008,\"liquidityNet\":1840859419065392},{\"index\":-268220,\"liquidityGross\":12548928356745798,\"liquidityNet\":12548928356745798},{\"index\":-268230,\"liquidityGross\":1654457932380872,\"liquidityNet\":1654457932380872},{\"index\":-268260,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268270,\"liquidityGross\":486264696409660,\"liquidityNet\":-486264696409660},{\"index\":-268290,\"liquidityGross\":505117227376485,\"liquidityNet\":467412165442835},{\"index\":-268300,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268310,\"liquidityGross\":18852530966825,\"liquidityNet\":18852530966825},{\"index\":-268330,\"liquidityGross\":295027826995368,\"liquidityNet\":-295027826995368},{\"index\":-268350,\"liquidityGross\":295027826995368,\"liquidityNet\":295027826995368},{\"index\":-268360,\"liquidityGross\":4915590330917271,\"liquidityNet\":-2641541999201861},{\"index\":-268380,\"liquidityGross\":3913818638772173,\"liquidityNet\":3643313691346959},{\"index\":-268390,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268400,\"liquidityGross\":135252473712607,\"liquidityNet\":135252473712607},{\"index\":-268410,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268440,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268450,\"liquidityGross\":492378134373726,\"liquidityNet\":-492378134373726},{\"index\":-268470,\"liquidityGross\":492378134373726,\"liquidityNet\":492378134373726},{\"index\":-268540,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268670,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268700,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268720,\"liquidityGross\":1544917451344615,\"liquidityNet\":1544917451344615},{\"index\":-268780,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268810,\"liquidityGross\":261471794531169,\"liquidityNet\":-261471794531169},{\"index\":-268830,\"liquidityGross\":261471794531169,\"liquidityNet\":261471794531169},{\"index\":-268880,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-269250,\"liquidityGross\":2225642526521845,\"liquidityNet\":2225642526521845},{\"index\":-269290,\"liquidityGross\":28475738261580710,\"liquidityNet\":28475738261580710},{\"index\":-269360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-269390,\"liquidityGross\":3321865382758257,\"liquidityNet\":3321865382758257},{\"index\":-269650,\"liquidityGross\":1626755939833567,\"liquidityNet\":1626755939833567},{\"index\":-270450,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-270500,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-270610,\"liquidityGross\":16044464981952896,\"liquidityNet\":16044464981952896},{\"index\":-271010,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271260,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271770,\"liquidityGross\":11761759461296,\"liquidityNet\":-11761759461296},{\"index\":-271790,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271810,\"liquidityGross\":11761759461296,\"liquidityNet\":11761759461296},{\"index\":-271880,\"liquidityGross\":366722869300503,\"liquidityNet\":-366722869300503},{\"index\":-271900,\"liquidityGross\":366722869300503,\"liquidityNet\":366722869300503},{\"index\":-271950,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272270,\"liquidityGross\":7859624500212071,\"liquidityNet\":7859624500212071},{\"index\":-272700,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272710,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272730,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272820,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272850,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272890,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272940,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272960,\"liquidityGross\":114442712373092,\"liquidityNet\":114442712373092},{\"index\":-273370,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273540,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273560,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273580,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273860,\"liquidityGross\":185514743396569,\"liquidityNet\":-185514743396569},{\"index\":-273880,\"liquidityGross\":185514743396569,\"liquidityNet\":185514743396569},{\"index\":-273940,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273960,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274080,\"liquidityGross\":294625130920641,\"liquidityNet\":-294625130920641},{\"index\":-274100,\"liquidityGross\":294625130920641,\"liquidityNet\":294625130920641},{\"index\":-274130,\"liquidityGross\":298736144103799,\"liquidityNet\":-298736144103799},{\"index\":-274150,\"liquidityGross\":298736144103799,\"liquidityNet\":298736144103799},{\"index\":-274210,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274220,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274230,\"liquidityGross\":901384644,\"liquidityNet\":-901384644},{\"index\":-274270,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274570,\"liquidityGross\":24444908665324,\"liquidityNet\":-24444908665324},{\"index\":-274590,\"liquidityGross\":24444908665324,\"liquidityNet\":24444908665324},{\"index\":-274630,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274650,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274740,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274930,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275040,\"liquidityGross\":13797547021913,\"liquidityNet\":-13797547021913},{\"index\":-275060,\"liquidityGross\":13797547021913,\"liquidityNet\":13797547021913},{\"index\":-275070,\"liquidityGross\":858196514533328,\"liquidityNet\":-858196514533328},{\"index\":-275080,\"liquidityGross\":18451142511436,\"liquidityNet\":-18451142511436},{\"index\":-275090,\"liquidityGross\":858196514533328,\"liquidityNet\":858196514533328},{\"index\":-275100,\"liquidityGross\":18451142511436,\"liquidityNet\":18451142511436},{\"index\":-275270,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275300,\"liquidityGross\":133984941828040,\"liquidityNet\":-133984941828040},{\"index\":-275320,\"liquidityGross\":133984941828040,\"liquidityNet\":133984941828040},{\"index\":-275340,\"liquidityGross\":1494865953974850,\"liquidityNet\":-1494865953974850},{\"index\":-275350,\"liquidityGross\":347829021849991,\"liquidityNet\":-347829021849991},{\"index\":-275360,\"liquidityGross\":1494865953974850,\"liquidityNet\":1494865953974850},{\"index\":-275370,\"liquidityGross\":347829021849991,\"liquidityNet\":347829021849991},{\"index\":-275650,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275670,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275680,\"liquidityGross\":47088012344778,\"liquidityNet\":-47088012344778},{\"index\":-275700,\"liquidityGross\":47088012344778,\"liquidityNet\":47088012344778},{\"index\":-275880,\"liquidityGross\":28954392856049,\"liquidityNet\":-28954392856049},{\"index\":-275900,\"liquidityGross\":28954392856049,\"liquidityNet\":28954392856049},{\"index\":-275930,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275990,\"liquidityGross\":348873233386009,\"liquidityNet\":-348873233386009},{\"index\":-276000,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276010,\"liquidityGross\":348873233386009,\"liquidityNet\":348873233386009},{\"index\":-276020,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276060,\"liquidityGross\":235624996163010,\"liquidityNet\":-235624996163010},{\"index\":-276070,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276080,\"liquidityGross\":235624996163010,\"liquidityNet\":235624996163010},{\"index\":-276090,\"liquidityGross\":34484170482387,\"liquidityNet\":-34484170482387},{\"index\":-276110,\"liquidityGross\":34484170482387,\"liquidityNet\":34484170482387},{\"index\":-276320,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276500,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276530,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276550,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276570,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276600,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276640,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276650,\"liquidityGross\":77576308325853,\"liquidityNet\":-77576308325853},{\"index\":-276670,\"liquidityGross\":77576308325853,\"liquidityNet\":77576308325853},{\"index\":-276690,\"liquidityGross\":2125928593356,\"liquidityNet\":2125928593356},{\"index\":-276750,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276770,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276780,\"liquidityGross\":5160290778811811,\"liquidityNet\":-5160290778811811},{\"index\":-276790,\"liquidityGross\":1679515138310413,\"liquidityNet\":-1679515138310413},{\"index\":-276800,\"liquidityGross\":5160290778811811,\"liquidityNet\":5160290778811811},{\"index\":-276810,\"liquidityGross\":1679515138310413,\"liquidityNet\":1679515138310413},{\"index\":-276860,\"liquidityGross\":305242643348502,\"liquidityNet\":-305242643348502},{\"index\":-276870,\"liquidityGross\":112047852521649,\"liquidityNet\":-112047852521649},{\"index\":-276880,\"liquidityGross\":305242643348502,\"liquidityNet\":305242643348502},{\"index\":-276890,\"liquidityGross\":156503014530279,\"liquidityNet\":-156503014530279},{\"index\":-276900,\"liquidityGross\":20491865819972,\"liquidityNet\":-20491865819972},{\"index\":-276910,\"liquidityGross\":289907676124363,\"liquidityNet\":247194057979493},{\"index\":-276920,\"liquidityGross\":20491865819972,\"liquidityNet\":20491865819972},{\"index\":-276930,\"liquidityGross\":21356809072435,\"liquidityNet\":21356809072435},{\"index\":-276960,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276970,\"liquidityGross\":280622109111,\"liquidityNet\":-280622109111},{\"index\":-276980,\"liquidityGross\":126728239517,\"liquidityNet\":-126728239517},{\"index\":-276990,\"liquidityGross\":1721241304014824,\"liquidityNet\":-1720680059796602},{\"index\":-277000,\"liquidityGross\":19432407456542,\"liquidityNet\":-19178950977508},{\"index\":-277010,\"liquidityGross\":1720960681905713,\"liquidityNet\":1720960681905713},{\"index\":-277020,\"liquidityGross\":19305679217025,\"liquidityNet\":19305679217025},{\"index\":-277040,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277050,\"liquidityGross\":3951088730262839,\"liquidityNet\":-3951088730262839},{\"index\":-277060,\"liquidityGross\":205604339674701,\"liquidityNet\":-205604339674701},{\"index\":-277070,\"liquidityGross\":3951088730262839,\"liquidityNet\":3951088730262839},{\"index\":-277080,\"liquidityGross\":205604339674701,\"liquidityNet\":205604339674701},{\"index\":-277140,\"liquidityGross\":3104337811667408,\"liquidityNet\":-3104337811667408},{\"index\":-277150,\"liquidityGross\":104172275860305,\"liquidityNet\":-104172275860305},{\"index\":-277160,\"liquidityGross\":3104337811667408,\"liquidityNet\":3104337811667408},{\"index\":-277170,\"liquidityGross\":104172275860305,\"liquidityNet\":104172275860305},{\"index\":-277190,\"liquidityGross\":32459357024410,\"liquidityNet\":-32459357024410},{\"index\":-277200,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277210,\"liquidityGross\":32459357024410,\"liquidityNet\":32459357024410},{\"index\":-277220,\"liquidityGross\":80404229546411,\"liquidityNet\":-80404229546411},{\"index\":-277240,\"liquidityGross\":80404229546411,\"liquidityNet\":80404229546411},{\"index\":-277250,\"liquidityGross\":48864254034872,\"liquidityNet\":-48864254034872},{\"index\":-277260,\"liquidityGross\":1905239862177812,\"liquidityNet\":-1905239862177812},{\"index\":-277270,\"liquidityGross\":48849664319212,\"liquidityNet\":48849664319212},{\"index\":-277280,\"liquidityGross\":1905239862177812,\"liquidityNet\":1905239862177812},{\"index\":-277290,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277300,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277340,\"liquidityGross\":2193857876262,\"liquidityNet\":-2193857876262},{\"index\":-277360,\"liquidityGross\":2193857876262,\"liquidityNet\":2193857876262},{\"index\":-277380,\"liquidityGross\":14589715660,\"liquidityNet\":14589715660},{\"index\":-277390,\"liquidityGross\":26320759224773,\"liquidityNet\":-26320759224773},{\"index\":-277400,\"liquidityGross\":407640707666431,\"liquidityNet\":-407640707666431},{\"index\":-277410,\"liquidityGross\":172318912747743,\"liquidityNet\":-119677394298197},{\"index\":-277420,\"liquidityGross\":407640707666431,\"liquidityNet\":407640707666431},{\"index\":-277430,\"liquidityGross\":145998153522970,\"liquidityNet\":145998153522970},{\"index\":-277480,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277500,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277550,\"liquidityGross\":283198178404970,\"liquidityNet\":-283198178404970},{\"index\":-277570,\"liquidityGross\":283198178404970,\"liquidityNet\":283198178404970},{\"index\":-277900,\"liquidityGross\":2009278066,\"liquidityNet\":-2009278066},{\"index\":-277920,\"liquidityGross\":2009278066,\"liquidityNet\":2009278066},{\"index\":-277930,\"liquidityGross\":62380824996273,\"liquidityNet\":-62380824996273},{\"index\":-277950,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277960,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277970,\"liquidityGross\":62380824996273,\"liquidityNet\":62380824996273},{\"index\":-277980,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278050,\"liquidityGross\":1743599458988206,\"liquidityNet\":-1743599458988206},{\"index\":-278070,\"liquidityGross\":1743599458988206,\"liquidityNet\":1743599458988206},{\"index\":-278090,\"liquidityGross\":71537141508386,\"liquidityNet\":-71537141508386},{\"index\":-278110,\"liquidityGross\":71537141508386,\"liquidityNet\":71537141508386},{\"index\":-278180,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278190,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278250,\"liquidityGross\":24338570864732,\"liquidityNet\":-24338570864732},{\"index\":-278270,\"liquidityGross\":24338570864732,\"liquidityNet\":24338570864732},{\"index\":-278450,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278470,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278560,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278870,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-278900,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279060,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279090,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279100,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279110,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279500,\"liquidityGross\":11727373949345,\"liquidityNet\":-11727373949345},{\"index\":-279520,\"liquidityGross\":11727373949345,\"liquidityNet\":11727373949345},{\"index\":-279730,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279880,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279890,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279970,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280010,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280030,\"liquidityGross\":4891073907645,\"liquidityNet\":-4891073907645},{\"index\":-280050,\"liquidityGross\":4891073907645,\"liquidityNet\":4891073907645},{\"index\":-280280,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280290,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280340,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280380,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280420,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280440,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280630,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281110,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281190,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281900,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-282780,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-283000,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-283490,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-283900,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-284090,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-285140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-285830,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-286050,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-286680,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-286820,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-288130,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-288830,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-289800,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-289950,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-299350,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-414490,\"liquidityGross\":1185922150261,\"liquidityNet\":1185922150261},{\"index\":887270,\"liquidityGross\":32353198010973,\"liquidityNet\":-32353198010973},{\"index\":-887270,\"liquidityGross\":29753807548314,\"liquidityNet\":29753807548314}]}",
				StaticExtra: "{\"poolId\":\"0xf74fca1611a695a81fc1f7052aa5ff2549558ab3\"}",
			},
			chainId: valueobject.ChainIDOptimism,
			tokenAmountIn: pool.TokenAmount{
				Token:     "0x4200000000000000000000000000000000000042",
				Amount:    test1AmountInBI,
				AmountUsd: 0,
			},
			tokenOut:        "0x94b008aa00579c1307b0ef2c499ad98a8ce58e58",
			expectAmountOut: big.NewInt(9855279445),
			expectedErr:     nil,
		},
		{
			name: "it should return correct amount out OP -> USDT via pool 0xb2ac2e5a3684411254d58b1c5a542212b782114d",
			entityPool: entity.Pool{
				ReserveUsd:   14938.133119659875,
				AmplifiedTvl: 2.916359617560217e+39,
				SwapFee:      3000,
				Exchange:     "uniswapv3",
				Type:         "uniswapv3",
				Timestamp:    1681187547,
				Reserves:     []string{"2979969249319913787617", "7969794923"},
				Tokens: []*entity.PoolToken{
					{Address: "0x4200000000000000000000000000000000000042", Name: "Optimism", Symbol: "OP", Decimals: 18, Weight: 50, Swappable: true},
					{Address: "0x94b008aa00579c1307b0ef2c499ad98a8ce58e58", Name: "Tether USD", Symbol: "USDT", Decimals: 6, Weight: 50, Swappable: true},
				},
				Extra:       "{\"liquidity\":24047211829263438,\"sqrtPriceX96\":121349344965005511147520,\"tick\":-267797,\"ticks\":[{\"index\":-138180,\"liquidityGross\":8596638293651,\"liquidityNet\":-8596638293651},{\"index\":-207240,\"liquidityGross\":8369058276445,\"liquidityNet\":-8369058276445},{\"index\":-229260,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-236880,\"liquidityGross\":91995646105300,\"liquidityNet\":-91995646105300},{\"index\":-239460,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-242340,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-244140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-246360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-246600,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-247140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-249600,\"liquidityGross\":685450324447842,\"liquidityNet\":-685450324447842},{\"index\":-253320,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-253680,\"liquidityGross\":79208157204486,\"liquidityNet\":-79208157204486},{\"index\":-254640,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-255540,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-256680,\"liquidityGross\":85700831086461,\"liquidityNet\":-85700831086461},{\"index\":-256860,\"liquidityGross\":84833855974530,\"liquidityNet\":-84833855974530},{\"index\":-257100,\"liquidityGross\":106890272293503,\"liquidityNet\":-106890272293503},{\"index\":-257460,\"liquidityGross\":901201344182084,\"liquidityNet\":-901201344182084},{\"index\":-258060,\"liquidityGross\":1888493993368,\"liquidityNet\":-1888493993368},{\"index\":-258120,\"liquidityGross\":2169700917973,\"liquidityNet\":-2169700917973},{\"index\":-258180,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-258240,\"liquidityGross\":187398275696,\"liquidityNet\":-187398275696},{\"index\":-258300,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-258540,\"liquidityGross\":113664788172038,\"liquidityNet\":-113664788172038},{\"index\":-258720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-258840,\"liquidityGross\":10122225611812,\"liquidityNet\":-10122225611812},{\"index\":-258960,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-259200,\"liquidityGross\":20518359925510,\"liquidityNet\":-20518359925510},{\"index\":-259260,\"liquidityGross\":22761372785801,\"liquidityNet\":-22761372785801},{\"index\":-259380,\"liquidityGross\":5636438226,\"liquidityNet\":-5636438226},{\"index\":-259440,\"liquidityGross\":6431910949800,\"liquidityNet\":-6431910949800},{\"index\":-259500,\"liquidityGross\":5573406350252,\"liquidityNet\":-5573406350252},{\"index\":-259560,\"liquidityGross\":76563250368967,\"liquidityNet\":-76563250368967},{\"index\":-259680,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-259740,\"liquidityGross\":14859902744172,\"liquidityNet\":-14859902744172},{\"index\":-259800,\"liquidityGross\":5708668700065,\"liquidityNet\":-5708668700065},{\"index\":-259860,\"liquidityGross\":5483113012,\"liquidityNet\":-5483113012},{\"index\":-259920,\"liquidityGross\":592717170213774,\"liquidityNet\":-592717170213774},{\"index\":-260160,\"liquidityGross\":1241314666693,\"liquidityNet\":-1241314666693},{\"index\":-260220,\"liquidityGross\":677203802262526,\"liquidityNet\":-677203802262526},{\"index\":-260340,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-260400,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-260520,\"liquidityGross\":462188688500901,\"liquidityNet\":-462188688500901},{\"index\":-260700,\"liquidityGross\":18962209164180,\"liquidityNet\":-18962209164180},{\"index\":-260760,\"liquidityGross\":17657367655710,\"liquidityNet\":-17657367655710},{\"index\":-260820,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-261000,\"liquidityGross\":877171926971144,\"liquidityNet\":-877171926971144},{\"index\":-261120,\"liquidityGross\":225190888235,\"liquidityNet\":-225190888235},{\"index\":-261180,\"liquidityGross\":48277264595394,\"liquidityNet\":-48277264595394},{\"index\":-261240,\"liquidityGross\":84820881999569,\"liquidityNet\":-84820881999569},{\"index\":-261300,\"liquidityGross\":67457620739380,\"liquidityNet\":-67457620739380},{\"index\":-261360,\"liquidityGross\":96779002124267,\"liquidityNet\":-96779002124267},{\"index\":-261420,\"liquidityGross\":27700017216250,\"liquidityNet\":-27700017216250},{\"index\":-261480,\"liquidityGross\":1665933771929547,\"liquidityNet\":-1665933771929547},{\"index\":-261540,\"liquidityGross\":4675454272892,\"liquidityNet\":-4675454272892},{\"index\":-261600,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-261720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-261780,\"liquidityGross\":466980131092,\"liquidityNet\":-466980131092},{\"index\":-261960,\"liquidityGross\":23278214745,\"liquidityNet\":-23278214745},{\"index\":-262080,\"liquidityGross\":2360973829,\"liquidityNet\":-2360973829},{\"index\":-262200,\"liquidityGross\":5854696390259,\"liquidityNet\":-5854696390259},{\"index\":-262260,\"liquidityGross\":4889767099,\"liquidityNet\":-4889767099},{\"index\":-262380,\"liquidityGross\":27364540109658,\"liquidityNet\":-27364540109658},{\"index\":-262440,\"liquidityGross\":24842912883865,\"liquidityNet\":-24842912883865},{\"index\":-262500,\"liquidityGross\":14600878956590,\"liquidityNet\":-14600878956590},{\"index\":-262680,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-262800,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-262920,\"liquidityGross\":804361945538301,\"liquidityNet\":-804361945538301},{\"index\":-263040,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-263160,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-263220,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-263520,\"liquidityGross\":433348250715940,\"liquidityNet\":-433348250715940},{\"index\":-263580,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-263640,\"liquidityGross\":2364737924612,\"liquidityNet\":-2364737924612},{\"index\":-263700,\"liquidityGross\":7421063618190,\"liquidityNet\":-7421063618190},{\"index\":-263760,\"liquidityGross\":393786375769620,\"liquidityNet\":-393786375769620},{\"index\":-263820,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264000,\"liquidityGross\":134831818589318,\"liquidityNet\":-134831818589318},{\"index\":-264060,\"liquidityGross\":29135912414,\"liquidityNet\":-29135912414},{\"index\":-264120,\"liquidityGross\":478663243081,\"liquidityNet\":-478663243081},{\"index\":-264180,\"liquidityGross\":85300472582117,\"liquidityNet\":-85300472582117},{\"index\":-264240,\"liquidityGross\":2632340890,\"liquidityNet\":-2632340890},{\"index\":-264300,\"liquidityGross\":38530616390279,\"liquidityNet\":-38530616390279},{\"index\":-264360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264420,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264540,\"liquidityGross\":616108512003237,\"liquidityNet\":-616108512003237},{\"index\":-264600,\"liquidityGross\":1638549714689,\"liquidityNet\":-1638549714689},{\"index\":-264660,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264720,\"liquidityGross\":27115217059,\"liquidityNet\":-27115217059},{\"index\":-264780,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264840,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-264900,\"liquidityGross\":212847247906,\"liquidityNet\":-212847247906},{\"index\":-264960,\"liquidityGross\":23276245525836,\"liquidityNet\":-23276245525836},{\"index\":-265020,\"liquidityGross\":20534833144062,\"liquidityNet\":-20534833144062},{\"index\":-265080,\"liquidityGross\":1615336969204,\"liquidityNet\":-1615336969204},{\"index\":-265140,\"liquidityGross\":55098426236,\"liquidityNet\":-55098426236},{\"index\":-265200,\"liquidityGross\":1756690766530,\"liquidityNet\":-1756690766530},{\"index\":-265260,\"liquidityGross\":77705161915,\"liquidityNet\":-77705161915},{\"index\":-265320,\"liquidityGross\":5295823861704,\"liquidityNet\":-5295823861704},{\"index\":-265380,\"liquidityGross\":136668009072737,\"liquidityNet\":-136668009072737},{\"index\":-265440,\"liquidityGross\":8930981666595,\"liquidityNet\":-8930981666595},{\"index\":-265500,\"liquidityGross\":637369527598,\"liquidityNet\":-637369527598},{\"index\":-265560,\"liquidityGross\":452549756964,\"liquidityNet\":-452549756964},{\"index\":-265620,\"liquidityGross\":3849097417402,\"liquidityNet\":-3849097417402},{\"index\":-265740,\"liquidityGross\":40910370968,\"liquidityNet\":-40910370968},{\"index\":-265800,\"liquidityGross\":28601551354,\"liquidityNet\":-28601551354},{\"index\":-265860,\"liquidityGross\":34113524091959,\"liquidityNet\":-34113524091959},{\"index\":-265920,\"liquidityGross\":445120560003,\"liquidityNet\":-445120560003},{\"index\":-265980,\"liquidityGross\":275565742320385,\"liquidityNet\":-275565742320385},{\"index\":-266040,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266100,\"liquidityGross\":201155013363,\"liquidityNet\":-201155013363},{\"index\":-266160,\"liquidityGross\":399651295454,\"liquidityNet\":-399651295454},{\"index\":-266220,\"liquidityGross\":119754057143,\"liquidityNet\":-119754057143},{\"index\":-266280,\"liquidityGross\":43744475462,\"liquidityNet\":-43744475462},{\"index\":-266340,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266400,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-266460,\"liquidityGross\":1445395787,\"liquidityNet\":-1445395787},{\"index\":-266520,\"liquidityGross\":289853158016,\"liquidityNet\":-289853158016},{\"index\":-266580,\"liquidityGross\":4785190185899,\"liquidityNet\":-4785190185899},{\"index\":-266640,\"liquidityGross\":39103000371,\"liquidityNet\":-39103000371},{\"index\":-266700,\"liquidityGross\":1170511188110,\"liquidityNet\":-1170511188110},{\"index\":-266760,\"liquidityGross\":10936893094336667,\"liquidityNet\":-10936893094336667},{\"index\":-266820,\"liquidityGross\":2098891612822,\"liquidityNet\":2098891612720},{\"index\":-266880,\"liquidityGross\":105196304185,\"liquidityNet\":-105196304185},{\"index\":-266940,\"liquidityGross\":38694029999,\"liquidityNet\":-38694029999},{\"index\":-267000,\"liquidityGross\":177148851214,\"liquidityNet\":-177148851214},{\"index\":-267060,\"liquidityGross\":381720395184,\"liquidityNet\":-381720395184},{\"index\":-267120,\"liquidityGross\":30438791246,\"liquidityNet\":-30438791246},{\"index\":-267180,\"liquidityGross\":2324883873101001,\"liquidityNet\":-2324883873101001},{\"index\":-267240,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267300,\"liquidityGross\":315528783239,\"liquidityNet\":-315528783239},{\"index\":-267360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267420,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267540,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267600,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267660,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-267780,\"liquidityGross\":7728552805852,\"liquidityNet\":-7728552805852},{\"index\":-267900,\"liquidityGross\":1360051903729,\"liquidityNet\":-1360051903729},{\"index\":-267960,\"liquidityGross\":7053273415369,\"liquidityNet\":-7053273415369},{\"index\":-268020,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268080,\"liquidityGross\":1458416536944,\"liquidityNet\":-1458416536944},{\"index\":-268140,\"liquidityGross\":1630373125819,\"liquidityNet\":-1630373125819},{\"index\":-268200,\"liquidityGross\":746844456130,\"liquidityNet\":-746844456130},{\"index\":-268260,\"liquidityGross\":35624236,\"liquidityNet\":-35624236},{\"index\":-268320,\"liquidityGross\":2792829701721,\"liquidityNet\":-2792829701721},{\"index\":-268380,\"liquidityGross\":1045677763004609,\"liquidityNet\":-1045677763004609},{\"index\":-268440,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-268500,\"liquidityGross\":7,\"liquidityNet\":-7},{\"index\":-268560,\"liquidityGross\":5439129372983,\"liquidityNet\":-5439129372983},{\"index\":-268620,\"liquidityGross\":6156142115,\"liquidityNet\":-6156142115},{\"index\":-268680,\"liquidityGross\":230119208010,\"liquidityNet\":-230119208010},{\"index\":-268740,\"liquidityGross\":22445254829324,\"liquidityNet\":-22445254829324},{\"index\":-268800,\"liquidityGross\":3803402140805,\"liquidityNet\":-3803402140805},{\"index\":-268860,\"liquidityGross\":1888676473963,\"liquidityNet\":-1888676473963},{\"index\":-268920,\"liquidityGross\":14572861347275,\"liquidityNet\":-10795873360539},{\"index\":-268980,\"liquidityGross\":820548948677,\"liquidityNet\":-820548948677},{\"index\":-269040,\"liquidityGross\":10940227006823647,\"liquidityNet\":10933013185079955},{\"index\":-269100,\"liquidityGross\":91805097416413,\"liquidityNet\":75639479205529},{\"index\":-269160,\"liquidityGross\":362508421164,\"liquidityNet\":-362508421164},{\"index\":-269220,\"liquidityGross\":3470937741308,\"liquidityNet\":-3470937741308},{\"index\":-269280,\"liquidityGross\":5948452898592,\"liquidityNet\":-5948452898592},{\"index\":-269340,\"liquidityGross\":3328411330254,\"liquidityNet\":-3328411330254},{\"index\":-269400,\"liquidityGross\":2354916882628781,\"liquidityNet\":2344552627766177},{\"index\":-269460,\"liquidityGross\":750721537685,\"liquidityNet\":-750721537685},{\"index\":-269520,\"liquidityGross\":18589057253358,\"liquidityNet\":-18589057253358},{\"index\":-269580,\"liquidityGross\":1739485979969,\"liquidityNet\":-1739485979969},{\"index\":-269640,\"liquidityGross\":933855094032,\"liquidityNet\":-933855094032},{\"index\":-269700,\"liquidityGross\":4061316644284,\"liquidityNet\":-4061316644284},{\"index\":-269760,\"liquidityGross\":2963499550721,\"liquidityNet\":-2963499550721},{\"index\":-269820,\"liquidityGross\":3872606496925,\"liquidityNet\":-3872606496925},{\"index\":-269880,\"liquidityGross\":13896461445985,\"liquidityNet\":-13896461445985},{\"index\":-269940,\"liquidityGross\":5273771768338,\"liquidityNet\":-5273771768338},{\"index\":-270000,\"liquidityGross\":13149939435734,\"liquidityNet\":-13149939435734},{\"index\":-270060,\"liquidityGross\":16508618667671,\"liquidityNet\":-16508618667671},{\"index\":-270120,\"liquidityGross\":9869832024962,\"liquidityNet\":-9869832024962},{\"index\":-270180,\"liquidityGross\":13250047903848,\"liquidityNet\":-13250047903848},{\"index\":-270240,\"liquidityGross\":283962526201044,\"liquidityNet\":267168958439726},{\"index\":-270300,\"liquidityGross\":41702737789339,\"liquidityNet\":-41702737789339},{\"index\":-270360,\"liquidityGross\":4899860623054,\"liquidityNet\":-4899860623054},{\"index\":-270420,\"liquidityGross\":8343202461978,\"liquidityNet\":-8343202461978},{\"index\":-270480,\"liquidityGross\":14810130248468,\"liquidityNet\":-14810130248468},{\"index\":-270540,\"liquidityGross\":3901734027426,\"liquidityNet\":-3901734027426},{\"index\":-270600,\"liquidityGross\":18083211673262,\"liquidityNet\":-18083211673262},{\"index\":-270660,\"liquidityGross\":9082995658019,\"liquidityNet\":-9082995658019},{\"index\":-270720,\"liquidityGross\":16554028044796,\"liquidityNet\":-16554028044796},{\"index\":-270780,\"liquidityGross\":857815916885,\"liquidityNet\":-857815916885},{\"index\":-270840,\"liquidityGross\":297776277014,\"liquidityNet\":-297776277014},{\"index\":-270900,\"liquidityGross\":134960053737584,\"liquidityNet\":-134960053737584},{\"index\":-270960,\"liquidityGross\":7074180736057,\"liquidityNet\":-7074180736057},{\"index\":-271020,\"liquidityGross\":469744011775,\"liquidityNet\":-469744011775},{\"index\":-271080,\"liquidityGross\":980720883599,\"liquidityNet\":-980720883599},{\"index\":-271200,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271260,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271320,\"liquidityGross\":391222949950570,\"liquidityNet\":391181879417958},{\"index\":-271380,\"liquidityGross\":2350909358679,\"liquidityNet\":-2350909358553},{\"index\":-271440,\"liquidityGross\":378712633755,\"liquidityNet\":-378712633755},{\"index\":-271500,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271560,\"liquidityGross\":6123994708876,\"liquidityNet\":-6123994708876},{\"index\":-271620,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271740,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271800,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271860,\"liquidityGross\":1050240998806634,\"liquidityNet\":1041071992159724},{\"index\":-271920,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-271980,\"liquidityGross\":7,\"liquidityNet\":7},{\"index\":-272040,\"liquidityGross\":7379406309192,\"liquidityNet\":-7379406309192},{\"index\":-272100,\"liquidityGross\":59490840479,\"liquidityNet\":-59490840479},{\"index\":-272160,\"liquidityGross\":396097819402,\"liquidityNet\":-396097819402},{\"index\":-272220,\"liquidityGross\":39451347570,\"liquidityNet\":-39451347570},{\"index\":-272280,\"liquidityGross\":677638570220180,\"liquidityNet\":676661148445234},{\"index\":-272340,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272400,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272460,\"liquidityGross\":618776183228538,\"liquidityNet\":612898693653738},{\"index\":-272520,\"liquidityGross\":400459161488,\"liquidityNet\":-400459161488},{\"index\":-272580,\"liquidityGross\":1517516789431520,\"liquidityNet\":-1517516789431520},{\"index\":-272640,\"liquidityGross\":1517516789431520,\"liquidityNet\":1517516789431520},{\"index\":-272700,\"liquidityGross\":18365041812692,\"liquidityNet\":1879409410932},{\"index\":-272760,\"liquidityGross\":6159422077770,\"liquidityNet\":6089661578586},{\"index\":-272820,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-272880,\"liquidityGross\":438997865167,\"liquidityNet\":-438997865167},{\"index\":-272940,\"liquidityGross\":6779621231705,\"liquidityNet\":6084200667895},{\"index\":-273000,\"liquidityGross\":3171172224712,\"liquidityNet\":-3171172224712},{\"index\":-273060,\"liquidityGross\":148953552325901,\"liquidityNet\":119412743869195},{\"index\":-273120,\"liquidityGross\":24813448277293,\"liquidityNet\":20709297294309},{\"index\":-273180,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273240,\"liquidityGross\":5636438226,\"liquidityNet\":5636438226},{\"index\":-273300,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-273420,\"liquidityGross\":195858092542218,\"liquidityNet\":182195765483226},{\"index\":-273480,\"liquidityGross\":22671028558517,\"liquidityNet\":-21519599060061},{\"index\":-273540,\"liquidityGross\":13056307994592,\"liquidityNet\":-13056307994592},{\"index\":-273600,\"liquidityGross\":14859902744172,\"liquidityNet\":14859902744172},{\"index\":-273660,\"liquidityGross\":5708668700065,\"liquidityNet\":5708668700065},{\"index\":-273720,\"liquidityGross\":86131672508302,\"liquidityNet\":85280955890644},{\"index\":-273780,\"liquidityGross\":1684245245716311,\"liquidityNet\":1684245245716311},{\"index\":-273840,\"liquidityGross\":84833855974530,\"liquidityNet\":84833855974530},{\"index\":-273960,\"liquidityGross\":1475018242905,\"liquidityNet\":-1475018242905},{\"index\":-274020,\"liquidityGross\":1268052447171,\"liquidityNet\":1268052447171},{\"index\":-274080,\"liquidityGross\":833019330809045,\"liquidityNet\":833019330809045},{\"index\":-274140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274200,\"liquidityGross\":433348250715940,\"liquidityNet\":433348250715940},{\"index\":-274320,\"liquidityGross\":1710468925260,\"liquidityNet\":1710468925260},{\"index\":-274380,\"liquidityGross\":462188688500901,\"liquidityNet\":462188688500901},{\"index\":-274440,\"liquidityGross\":17081652906482,\"liquidityNet\":17081652906482},{\"index\":-274500,\"liquidityGross\":24842912883865,\"liquidityNet\":24842912883865},{\"index\":-274560,\"liquidityGross\":11043661024294,\"liquidityNet\":11043661024294},{\"index\":-274680,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274740,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274800,\"liquidityGross\":546343729450410,\"liquidityNet\":-387927415041438},{\"index\":-274860,\"liquidityGross\":1326431688680640,\"liquidityNet\":427912165261648},{\"index\":-274920,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-274980,\"liquidityGross\":225190888235,\"liquidityNet\":225190888235},{\"index\":-275040,\"liquidityGross\":10819212586088,\"liquidityNet\":10819212586088},{\"index\":-275100,\"liquidityGross\":256400385588226,\"liquidityNet\":256400385588226},{\"index\":-275160,\"liquidityGross\":67457620739380,\"liquidityNet\":67457620739380},{\"index\":-275220,\"liquidityGross\":90656813548083,\"liquidityNet\":90656813548083},{\"index\":-275280,\"liquidityGross\":27700017216250,\"liquidityNet\":27700017216250},{\"index\":-275340,\"liquidityGross\":504536930211510,\"liquidityNet\":-489734417640260},{\"index\":-275400,\"liquidityGross\":522345961342839,\"liquidityNet\":522345961342839},{\"index\":-275460,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275520,\"liquidityGross\":2459482547752,\"liquidityNet\":1879919288194},{\"index\":-275580,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275640,\"liquidityGross\":466980131092,\"liquidityNet\":466980131092},{\"index\":-275700,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275760,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275820,\"liquidityGross\":59717121635,\"liquidityNet\":59717121635},{\"index\":-275880,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-275940,\"liquidityGross\":2360973829,\"liquidityNet\":2360973829},{\"index\":-276000,\"liquidityGross\":39181865697701,\"liquidityNet\":-34452389848477},{\"index\":-276060,\"liquidityGross\":1664384858782187,\"liquidityNet\":1664384858782187},{\"index\":-276120,\"liquidityGross\":4889767099,\"liquidityNet\":4889767099},{\"index\":-276180,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276240,\"liquidityGross\":27364540109658,\"liquidityNet\":27364540109658},{\"index\":-276300,\"liquidityGross\":7918548139925,\"liquidityNet\":7918548139925},{\"index\":-276360,\"liquidityGross\":48106164592,\"liquidityNet\":48106164592},{\"index\":-276420,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276480,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276540,\"liquidityGross\":4969640970,\"liquidityNet\":-4969640970},{\"index\":-276600,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276660,\"liquidityGross\":177335947310,\"liquidityNet\":-177335947310},{\"index\":-276720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-276840,\"liquidityGross\":6156142115,\"liquidityNet\":6156142115},{\"index\":-276900,\"liquidityGross\":55934084489,\"liquidityNet\":-55934084489},{\"index\":-276960,\"liquidityGross\":2086646813644,\"liquidityNet\":-2086646813644},{\"index\":-277020,\"liquidityGross\":55934084489,\"liquidityNet\":55934084489},{\"index\":-277080,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277320,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277380,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277440,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277500,\"liquidityGross\":34113524091959,\"liquidityNet\":34113524091959},{\"index\":-277560,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-277620,\"liquidityGross\":4525415068319,\"liquidityNet\":4525415068319},{\"index\":-277800,\"liquidityGross\":319109906641,\"liquidityNet\":-319109906641},{\"index\":-277860,\"liquidityGross\":5103657133091,\"liquidityNet\":-3682923113157},{\"index\":-277920,\"liquidityGross\":29135912414,\"liquidityNet\":29135912414},{\"index\":-277980,\"liquidityGross\":41999263,\"liquidityNet\":41999263},{\"index\":-278040,\"liquidityGross\":5802441135347,\"liquidityNet\":5135959488227},{\"index\":-278100,\"liquidityGross\":1138301960632,\"liquidityNet\":1138301960632},{\"index\":-278160,\"liquidityGross\":18064555033052,\"liquidityNet\":18064555033052},{\"index\":-278220,\"liquidityGross\":134883040156307,\"liquidityNet\":134883040156307},{\"index\":-278340,\"liquidityGross\":450853379827,\"liquidityNet\":-114621634451},{\"index\":-278400,\"liquidityGross\":271073562099,\"liquidityNet\":271073562099},{\"index\":-278460,\"liquidityGross\":25008379739131,\"liquidityNet\":-21731280309753},{\"index\":-278580,\"liquidityGross\":27115217059,\"liquidityNet\":27115217059},{\"index\":-278760,\"liquidityGross\":225606089413,\"liquidityNet\":225606089413},{\"index\":-278880,\"liquidityGross\":198233828165593,\"liquidityNet\":-198233828165593},{\"index\":-279000,\"liquidityGross\":55098426236,\"liquidityNet\":55098426236},{\"index\":-279060,\"liquidityGross\":46221841270,\"liquidityNet\":46221841270},{\"index\":-279120,\"liquidityGross\":77705161915,\"liquidityNet\":77705161915},{\"index\":-279180,\"liquidityGross\":41917158498,\"liquidityNet\":41917158498},{\"index\":-279240,\"liquidityGross\":136572320530785,\"liquidityNet\":136572320530785},{\"index\":-279300,\"liquidityGross\":8916912038340,\"liquidityNet\":8916912038340},{\"index\":-279360,\"liquidityGross\":5173319717907,\"liquidityNet\":5173319717907},{\"index\":-279420,\"liquidityGross\":28136231422,\"liquidityNet\":28136231422},{\"index\":-279480,\"liquidityGross\":2064519906782,\"liquidityNet\":2064519906782},{\"index\":-279540,\"liquidityGross\":18895289204559,\"liquidityNet\":18895289204559},{\"index\":-279600,\"liquidityGross\":40910370968,\"liquidityNet\":40910370968},{\"index\":-279660,\"liquidityGross\":354985985429,\"liquidityNet\":354985985429},{\"index\":-279720,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279780,\"liquidityGross\":445120560003,\"liquidityNet\":445120560003},{\"index\":-279900,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-279960,\"liquidityGross\":201155013363,\"liquidityNet\":201155013363},{\"index\":-280020,\"liquidityGross\":399651295454,\"liquidityNet\":399651295454},{\"index\":-280080,\"liquidityGross\":119754057143,\"liquidityNet\":119754057143},{\"index\":-280140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280200,\"liquidityGross\":43744475462,\"liquidityNet\":43744475462},{\"index\":-280320,\"liquidityGross\":1445395787,\"liquidityNet\":1445395787},{\"index\":-280380,\"liquidityGross\":289853158016,\"liquidityNet\":289853158016},{\"index\":-280440,\"liquidityGross\":4785190185899,\"liquidityNet\":4785190185899},{\"index\":-280500,\"liquidityGross\":39103000371,\"liquidityNet\":39103000371},{\"index\":-280560,\"liquidityGross\":1170511188110,\"liquidityNet\":1170511188110},{\"index\":-280620,\"liquidityGross\":28754705037,\"liquidityNet\":28754705037},{\"index\":-280680,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-280740,\"liquidityGross\":1794937545,\"liquidityNet\":1794937545},{\"index\":-280800,\"liquidityGross\":38694029999,\"liquidityNet\":38694029999},{\"index\":-280860,\"liquidityGross\":151886150599,\"liquidityNet\":151886150599},{\"index\":-280920,\"liquidityGross\":282737507139,\"liquidityNet\":282737507139},{\"index\":-280980,\"liquidityGross\":412159186430,\"liquidityNet\":412159186430},{\"index\":-281040,\"liquidityGross\":5846427047548,\"liquidityNet\":5846427047548},{\"index\":-281100,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281160,\"liquidityGross\":376886732,\"liquidityNet\":376886732},{\"index\":-281220,\"liquidityGross\":315151896507,\"liquidityNet\":315151896507},{\"index\":-281280,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281340,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281400,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281460,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281520,\"liquidityGross\":3692603158610,\"liquidityNet\":3692603158610},{\"index\":-281580,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-281640,\"liquidityGross\":7728552805852,\"liquidityNet\":7728552805852},{\"index\":-281760,\"liquidityGross\":1360051903729,\"liquidityNet\":1360051903729},{\"index\":-281820,\"liquidityGross\":7053273415369,\"liquidityNet\":7053273415369},{\"index\":-281940,\"liquidityGross\":1458416536944,\"liquidityNet\":1458416536944},{\"index\":-282000,\"liquidityGross\":1630373125819,\"liquidityNet\":1630373125819},{\"index\":-282060,\"liquidityGross\":774188675882,\"liquidityNet\":774188675882},{\"index\":-282120,\"liquidityGross\":472780603405,\"liquidityNet\":472780603405},{\"index\":-282180,\"liquidityGross\":2792829701721,\"liquidityNet\":2792829701721},{\"index\":-282240,\"liquidityGross\":13781553826,\"liquidityNet\":13781553826},{\"index\":-282300,\"liquidityGross\":8806495864391,\"liquidityNet\":8806495864391},{\"index\":-282420,\"liquidityGross\":5574129391222,\"liquidityNet\":5574129391222},{\"index\":-282480,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-282540,\"liquidityGross\":4365744782021,\"liquidityNet\":4365744782021},{\"index\":-282600,\"liquidityGross\":3570600533871,\"liquidityNet\":3570600533871},{\"index\":-282660,\"liquidityGross\":3803190491755,\"liquidityNet\":3803190491755},{\"index\":-282720,\"liquidityGross\":1888888123013,\"liquidityNet\":1888888123013},{\"index\":-282780,\"liquidityGross\":3882841130486,\"liquidityNet\":3882841130486},{\"index\":-282840,\"liquidityGross\":820548948677,\"liquidityNet\":820548948677},{\"index\":-282900,\"liquidityGross\":3820582736266,\"liquidityNet\":3820582736266},{\"index\":-282960,\"liquidityGross\":3947187067643,\"liquidityNet\":3947187067643},{\"index\":-283020,\"liquidityGross\":362508421164,\"liquidityNet\":362508421164},{\"index\":-283080,\"liquidityGross\":43132915210395,\"liquidityNet\":43132915210395},{\"index\":-283140,\"liquidityGross\":8038458596350,\"liquidityNet\":8038458596350},{\"index\":-283200,\"liquidityGross\":3344613454373,\"liquidityNet\":3344613454373},{\"index\":-283260,\"liquidityGross\":5638167642459,\"liquidityNet\":5638167642459},{\"index\":-283320,\"liquidityGross\":750721537685,\"liquidityNet\":750721537685},{\"index\":-283380,\"liquidityGross\":15660123713710,\"liquidityNet\":15660123713710},{\"index\":-283440,\"liquidityGross\":1723655443874,\"liquidityNet\":1723655443874},{\"index\":-283500,\"liquidityGross\":933855094032,\"liquidityNet\":933855094032},{\"index\":-283560,\"liquidityGross\":7392492492901,\"liquidityNet\":7392492492901},{\"index\":-283620,\"liquidityGross\":2963499550721,\"liquidityNet\":2963499550721},{\"index\":-283680,\"liquidityGross\":541430648308,\"liquidityNet\":541430648308},{\"index\":-283740,\"liquidityGross\":10476632331199,\"liquidityNet\":10476632331199},{\"index\":-283800,\"liquidityGross\":8703317207169,\"liquidityNet\":8703317207169},{\"index\":-283860,\"liquidityGross\":9430898167118,\"liquidityNet\":9430898167118},{\"index\":-283920,\"liquidityGross\":11302476395483,\"liquidityNet\":11302476395483},{\"index\":-283980,\"liquidityGross\":9059672528645,\"liquidityNet\":9059672528645},{\"index\":-284040,\"liquidityGross\":17619979156914,\"liquidityNet\":17619979156914},{\"index\":-284100,\"liquidityGross\":8578811596031,\"liquidityNet\":8578811596031},{\"index\":-284160,\"liquidityGross\":33515654160906,\"liquidityNet\":33515654160906},{\"index\":-284220,\"liquidityGross\":12709876637093,\"liquidityNet\":12709876637093},{\"index\":-284280,\"liquidityGross\":9662834498044,\"liquidityNet\":9662834498044},{\"index\":-284340,\"liquidityGross\":11684031506605,\"liquidityNet\":11684031506605},{\"index\":-284400,\"liquidityGross\":7860118191841,\"liquidityNet\":7860118191841},{\"index\":-284460,\"liquidityGross\":17788193538485,\"liquidityNet\":17788193538485},{\"index\":-284520,\"liquidityGross\":9711323353577,\"liquidityNet\":9711323353577},{\"index\":-284580,\"liquidityGross\":39564066780546,\"liquidityNet\":39564066780546},{\"index\":-284640,\"liquidityGross\":857815916885,\"liquidityNet\":857815916885},{\"index\":-284700,\"liquidityGross\":297776277014,\"liquidityNet\":297776277014},{\"index\":-284760,\"liquidityGross\":77013581277,\"liquidityNet\":77013581277},{\"index\":-284820,\"liquidityGross\":7074180736057,\"liquidityNet\":7074180736057},{\"index\":-284880,\"liquidityGross\":469744011775,\"liquidityNet\":469744011775},{\"index\":-284940,\"liquidityGross\":980720883599,\"liquidityNet\":980720883599},{\"index\":-285060,\"liquidityGross\":198233828165593,\"liquidityNet\":198233828165593},{\"index\":-285180,\"liquidityGross\":20535266306,\"liquidityNet\":20535266306},{\"index\":-285240,\"liquidityGross\":1884473618558,\"liquidityNet\":1884473618558},{\"index\":-285300,\"liquidityGross\":378712633755,\"liquidityNet\":378712633755},{\"index\":-285360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-285420,\"liquidityGross\":6123994708876,\"liquidityNet\":6123994708876},{\"index\":-285480,\"liquidityGross\":901201344182084,\"liquidityNet\":901201344182084},{\"index\":-285600,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-285900,\"liquidityGross\":7379406309192,\"liquidityNet\":7379406309192},{\"index\":-285960,\"liquidityGross\":84028587412,\"liquidityNet\":84028587412},{\"index\":-286020,\"liquidityGross\":470192506549,\"liquidityNet\":470192506549},{\"index\":-286080,\"liquidityGross\":39451347570,\"liquidityNet\":39451347570},{\"index\":-286140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-286200,\"liquidityGross\":29311792202,\"liquidityNet\":29311792202},{\"index\":-286260,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-286320,\"liquidityGross\":3986440134,\"liquidityNet\":3986440134},{\"index\":-286380,\"liquidityGross\":400459161488,\"liquidityNet\":400459161488},{\"index\":-286440,\"liquidityGross\":14062456123587,\"liquidityNet\":14062456123587},{\"index\":-286560,\"liquidityGross\":8242816200880,\"liquidityNet\":8242816200880},{\"index\":-286680,\"liquidityGross\":28632008362,\"liquidityNet\":28632008362},{\"index\":-286740,\"liquidityGross\":438997865167,\"liquidityNet\":438997865167},{\"index\":-286800,\"liquidityGross\":347710281905,\"liquidityNet\":347710281905},{\"index\":-286860,\"liquidityGross\":3142540216350,\"liquidityNet\":3142540216350},{\"index\":-286920,\"liquidityGross\":298620520145,\"liquidityNet\":298620520145},{\"index\":-286980,\"liquidityGross\":2461498738630,\"liquidityNet\":2461498738630},{\"index\":-287100,\"liquidityGross\":25975699706,\"liquidityNet\":25975699706},{\"index\":-287160,\"liquidityGross\":26201872,\"liquidityNet\":26201872},{\"index\":-287280,\"liquidityGross\":9626427663437,\"liquidityNet\":9626427663437},{\"index\":-287340,\"liquidityGross\":19300049675348,\"liquidityNet\":19300049675348},{\"index\":-287400,\"liquidityGross\":13054547457843,\"liquidityNet\":13054547457843},{\"index\":-287460,\"liquidityGross\":1760536749,\"liquidityNet\":1760536749},{\"index\":-287520,\"liquidityGross\":3246003031,\"liquidityNet\":3246003031},{\"index\":-287580,\"liquidityGross\":425358308829,\"liquidityNet\":425358308829},{\"index\":-287700,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-288240,\"liquidityGross\":466874951024576,\"liquidityNet\":466874951024576},{\"index\":-288300,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-288360,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-288420,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-288660,\"liquidityGross\":260621221348,\"liquidityNet\":260621221348},{\"index\":-288720,\"liquidityGross\":449259761709496,\"liquidityNet\":449259761709496},{\"index\":-288780,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-289140,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-289380,\"liquidityGross\":289781629779,\"liquidityNet\":289781629779},{\"index\":-289500,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-289740,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-289800,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-290460,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-290880,\"liquidityGross\":31411420953,\"liquidityNet\":31411420953},{\"index\":-291300,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-292680,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-299340,\"liquidityGross\":14552772791998,\"liquidityNet\":14552772791998},{\"index\":-306060,\"liquidityGross\":91995646105300,\"liquidityNet\":91995646105300},{\"index\":-318600,\"liquidityGross\":65217715152,\"liquidityNet\":65217715152},{\"index\":-336960,\"liquidityGross\":0,\"liquidityNet\":0},{\"index\":-345420,\"liquidityGross\":8369058276445,\"liquidityNet\":8369058276445},{\"index\":-414480,\"liquidityGross\":657646604550,\"liquidityNet\":657646604550},{\"index\":-415080,\"liquidityGross\":95688541952,\"liquidityNet\":95688541952},{\"index\":600,\"liquidityGross\":1994170530459544,\"liquidityNet\":-1994170530459544},{\"index\":-600,\"liquidityGross\":1994170530459544,\"liquidityNet\":1994170530459544},{\"index\":887220,\"liquidityGross\":691040741870268,\"liquidityNet\":-691040741870268},{\"index\":-887220,\"liquidityGross\":294170878574933,\"liquidityNet\":294170878574933}]}",
				StaticExtra: "{\"poolId\":\"0xb2ac2e5a3684411254d58b1c5a542212b782114d\"}",
			},
			chainId: valueobject.ChainIDOptimism,
			tokenAmountIn: pool.TokenAmount{
				Token:     "0x4200000000000000000000000000000000000042",
				Amount:    test2AmountInBI,
				AmountUsd: 0,
			},
			tokenOut:        "0x94b008aa00579c1307b0ef2c499ad98a8ce58e58",
			expectAmountOut: big.NewInt(7726017403),
			expectedErr:     nil,
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			p, _ := NewPool(tt.entityPool, tt.chainId)
			calcAmountOutResult, err := p.CalcAmountOut(tt.tokenAmountIn, tt.tokenOut)

			assert.Equal(t, tt.expectAmountOut, calcAmountOutResult.TokenAmountOut.Amount)
			assert.ErrorIs(t, err, tt.expectedErr)
		})
	}
}
