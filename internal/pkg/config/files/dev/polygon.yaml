env: "develop"
http:
  bindAddress: ":8080"
  mode: debug #(debug,release,test)
  prefix: /polygon
grpc:
  host: 0.0.0.0
  port: 10443
common:
  chainId: &chainId 137
  chainName: &chainName polygon
  rpc: "https://polygon.llamarpc.com"
  executorAddress: &executorAddress "0x75b02A71B6948774CA28160fc51b944De6aaCf78"
  routerAddress: &routerAddress "0x48397E166c78AAf801Ab0641b2a9aB62f1D3892a"
  gasTokenAddress: &gasTokenAddress "0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270"
  whitelistedTokenSet: &whitelistedTokenSet
    0x9f28e2455f9ffcfac9ebd6084853417362bc5dbb: true # rMATIC
    0x7a7b94f18ef6ad056cda648588181cda84800f94: true # FIS
    0x5736df66b4f8401d639ffa915a46b4c548c09ac1: true # rETH
    0xc3c7d422809852031b44ab29eec9f1eff2a58756: true # LDO
    0xd6df932a45c0f255f85145f286ea0b292b21c90b: true # AAVE
    0xe0b52e49357fd4daf2c15e02058dce6bc0057db4: true # agEUR
    0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270: true # WMATIC
    0xc2132d05d31c914a87c6611c10748aeb04b58e8f: true # USDT
    0x8f3cf7ad23cd3cadbd9735aff958023239c6a063: true # DAI
    0x2791bca1f2de4661ed88a30c99a7a9449aa84174: true # USDC
    0x7ceb23fd6bc0add59e62ac25578270cff1b9f619: true # WETH
    0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6: true # WBTC
    0xb5c064f955d8e7f38fe0460c556a72987494ee17: true # QUICK
    0x1c954e8fe737f99f68fa1ccda3e51ebdb291948c: true # KNC
    0x3a58a54c066fdc0f2d55fc9c89f0415c92ebf3c4: true # stMATIC
    0xa3fa99a148fa48d14ed51d610c367c61876997f1: true # MIMATIC
    0x8497842420cfdbc97896c2353d75d89fc8d5be5d: true # VERSA
    0x22a31bd4cb694433b6de19e0acc2899e553e9481: true # MMF
    0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39: true # LINK
    0x03b54a6e9a984069379fae1a4fc4dbae93b3bccd: true # wstETH
  blacklistedPoolSet: &blacklistedPoolSet
    0x7cc19f8c258d7f489bc1074437e25a46e397688f: true
    0xa71415675f68f29259ddd63215e5518d2735bf0a: true
    0x7db214f2d46d94846936a0f8bd9044c5c5bd2b93: true
  availableSources: &availableSources
    - "kyberswap"
    - "kyberswap-static"
    - "kyberswap-elastic"
    - "uniswapv3"
    - "sushiswap"
    - "quickswap"
    - "jetswap"
    - "wault"
    - "polycat"
    - "dfyn"
    - "polydex"
    - "oneswap"
    - "iron-stable"
    - "curve"
    - "synapse"
    - "balancer"
    - "gravity"
    - "cometh"
    - "apeswap"
    - "dinoswap"
    - "dodo"
    - "dystopia"
    - "mmf"
    - "madmex"
    - "metavault"
    - "fraxswap"
    - "kyberswap-limit-order"
  featureFlags: &featureFlags
log:
  sentryDSN: "https://6cd398671bde455f8fadad6dbfe87a67@sentry-v2.knstats.com/48"
  consoleLevel: info
  enableConsole: true
  enableJSONFormat: true
redis:
  addresses:
  masterName: ""
  dbNumber: 0
  password: ""
  prefix: *chainName
  readTimeout: 3s
  writeTimeout: 3s
poolRedis:
  addresses:
  masterName: ""
  dbNumber: 0
  password: ""
  prefix: *chainName
  readTimeout: 3s
  writeTimeout: 3s
ddAgentHost: ""
keyPair:
  storageFilePath: ""
  keyIDForSealingData:
    clientData: "1"
reloadConfig:
  httpUrl: ""
  interval: 10s
  serviceName: "aggregator"
  chainID: *chainId
secretKey:
metrics:
  host:
  port: 8125
  namespace: "kybernetwork."
encoder:
  chainId: *chainId
  executorAddress: *executorAddress
  routerAddress: *routerAddress
  kyberLOAddress:
  isPositiveSlippageEnabled: true
useCase:
  getRoute:
    chainId: *chainId
    gasTokenAddress: *gasTokenAddress
    routerAddress: *routerAddress
    availableSources: *availableSources
    ammAggregator:
      whitelistedTokenSet: *whitelistedTokenSet
      getBestPoolsOptions:
        directPoolsCount: 100
        whitelistPoolsCount: 500
        tokenInPoolsCount: 200
        tokenOutPoolCount: 200
        amplifiedTvlDirectPoolsCount: 50
        amplifiedTvlWhitelistPoolsCount: 200
        amplifiedTvlTokenInPoolsCount: 100
        amplifiedTvlTokenOutPoolCount: 100
      finderOptions:
        maxHops: 3
        distributionPercent: 5
        maxPathsInRoute: 20
        maxPathsToGenerate: 5
        maxPathsToReturn: 200
        minPartUSD: 500
        minThresholdAmountInUSD: 0
        maxThresholdAmountInUSD: 100000000
    cache:
      defaultTtl: 15s
      ttlByAmount:
        - amount: 1
          ttl: 30s
        - amount: 2
          ttl: 10s
        - amount: 5
          ttl: 10s
        - amount: 10
          ttl: 10s
        - amount: 11
          ttl: 30s
        - amount: 15
          ttl: 10s
        - amount: 20
          ttl: 10s
        - amount: 22
          ttl: 30s
        - amount: 25
          ttl: 10s
        - amount: 30
          ttl: 10s
        - amount: 33
          ttl: 30s
        - amount: 35
          ttl: 10s
        - amount: 40
          ttl: 10s
        - amount: 44
          ttl: 30s
        - amount: 45
          ttl: 10s
        - amount: 50
          ttl: 10s
        - amount: 55
          ttl: 30s
        - amount: 60
          ttl: 10s
        - amount: 66
          ttl: 30s
        - amount: 70
          ttl: 10s
        - amount: 77
          ttl: 30s
        - amount: 80
          ttl: 10s
        - amount: 88
          ttl: 30s
        - amount: 90
          ttl: 10s
        - amount: 99
          ttl: 30s
        - amount: 100
          ttl: 10s
        - amount: 500
          ttl: 10s
        - amount: 1000
          ttl: 10s
        - amount: 10000
          ttl: 10s
        - amount: 100000
          ttl: 10s
      ttlByAmountUsdRange:
        - amountUSDLowerBound: 0
          ttl: 10s
        - amountUSDLowerBound: 101
          ttl: 10s
        - amountUSDLowerBound: 500
          ttl: 10s
        - amountUSDLowerBound: 1001
          ttl: 10s
        - amountUSDLowerBound: 2000
          ttl: 10s
        - amountUSDLowerBound: 5000
          ttl: 10s
        - amountUSDLowerBound: 10000
          ttl: 10s
      priceImpactThreshold: 0.005
      shrinkFuncName: "round"
      shrinkFuncPowExp: 0.7
  buildRoute:
    chainId: *chainId
  poolFactory:
    chainId: *chainId
  poolManager:
    blacklistedPoolSet: *blacklistedPoolSet
    capacity: 50000
    poolRenewalInterval: 3s
  indexPools:
    whitelistedTokenSet: *whitelistedTokenSet
    chunkSize: 3000
job:
  indexPools:
    interval: 2s
  updateSuggestedGasPrice:
    interval: 2s
repository:
  gas:
    redis:
      prefix: *chainName
  pool:
    redis:
      prefix: *chainName
  price:
    redis:
      prefix: *chainName
  token:
    redis:
      prefix: *chainName
    goCache:
      expiration: -1
      cleanupInterval: -1
  poolRank:
    redis:
      prefix: *chainName
  route:
    redisCache:
      prefix: *chainName
      localCacheSize: 1000
      localCacheTtl: 30s
validator:
  buildRouteParams:
    slippageToleranceGte: 0
    slippageToleranceLte: 5000
