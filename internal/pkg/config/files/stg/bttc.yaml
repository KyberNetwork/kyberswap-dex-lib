env: "staging"
pprof: false
http:
  bindAddress: ":8080"
  mode: release #(debug,release,test)
  prefix: /bttc
grpc:
  host: 0.0.0.0
  port: 10443
common:
  chainId: &chainId 199
  chainName: &chainName bttc
  rpc: "https://bttc.kyberengineering.io"
  multicallAddress: "0xaf0936B1DC49B5c7444CA838A5f32080FC043AdD"
  executorAddress: &executorAddress "0xd1B47490209CcB7A806E8a45d9479490C040ABf4"
  routerAddress: &routerAddress "0x6131B5fae19EA4f9D964eAc0408E4408b66337b5"
  gasTokenAddress: &gasTokenAddress "0x8d193c6efa90bcff940a98785d1ce9d093d3dc8a"
  whitelistedTokenSet: &whitelistedTokenSet
    0x8d193c6efa90bcff940a98785d1ce9d093d3dc8a: true # WBTT
    0x0000000000000000000000000000000000001010: true # WBTT_t
    0xcbb9edf6775e39748ea6483a7fa6a385cd7e9a4e: true # WBTT_b
    0x65676055e58b02e61272cedec6e5c6d56badfb86: true # WBTT_e
    0xa20dfb01dca223c0e52b0d4991d4afa7e08e3a50: true # ETH_b
    0x1249c65afb11d179ffb3ce7d4eedd1d9b98ad006: true # ETH
    0x185a4091027e2db459a2433f85f894dc3013aeb5: true # BNB_b
    0xedf53026aea60f8f75fca25f8830b7e2d6200662: true # TRX_t
    0xdc3e2d18b6b1b5db09ecdb7f6c8b8fa01564236f: true # TRX_b
    0x5bae3d53484848a4a15607b2490d51b484bf42dc: true # TRX_e
    0x9b5f27f6ea9bbd753ce3793a07cba3c74644330d: true # USDT_b
    0xe887512ab8bc60bcc9224e1c3b5be68e26048b8b: true # USDT_e
    0xdb28719f7f938507dbfe4f0eae55668903d34a15: true # USDT_t
    0xa2611f4488c92e1a91eb4d2a8d30110eba9925b5: true # TUSD_b
    0xe7424ab0e1828d83ad402da5644142e55598c782: true # TUSD_e
    0x04b0f8bd78d07be6d27209163a5174b4b4ec0fbd: true # TUSD_t
    0xe7dc549ae8db61bde71f22097becc8db542ca100: true # DAI_e
    0xca424b845497f7204d9301bd13ff87c0e2e86fcf: true # USDC_b
    0xae17940943ba9440540940db0f1877f101d39e8b: true # USDC_e
    0x935faa2fcec6ab81265b301a30467bbc804b43d3: true # USDC_t
    0xdd85d7bdd2b35a38f527f73bad1acb09b7a1e35c: true # USDJ_t
    0xde47772ac041a4ccf3c865632131d1093e51c02d: true # BUSD_b
    0x6e626c62d54554737697e633ef9578ac3c4ba4ea: true # BUSD_e
    0xeb7121ea70e95c7141c58f15e79f89c5cfb9acbc: true # UST_e
    0x1a7019909b10cdd2d8b0034293ad729f1c1f604e: true # BTC_b
    0x18fa72e0ee4c580a129b0ce5bd0694d716c7443e: true # KNC_b
    0xe467f79e9869757dd818dfb8535068120f6bcb97: true # KNC_e
  blacklistedPoolSet: &blacklistedPoolSet
  availableSources: &availableSources
    - "kyberswap"
    - "kyberswap-static"
    - "kyberswap-elastic"
  featureFlags: &featureFlags
log:
  sentryDSN: "https://6cd398671bde455f8fadad6dbfe87a67@sentry-v2.knstats.com/48"
  consoleLevel: info
  enableConsole: true
  enableJSONFormat: true
redis:
  addresses:
  masterName: ""
  dbNumber: 0
  password: ""
  prefix: *chainName
  readTimeout: 3s
  writeTimeout: 3s
  readOnly: false
  routeRandomly: false
pregenRedis:
  addresses:
  masterName: ""
  dbNumber: 0
  password: ""
  prefix: *chainName
  readTimeout: 3s
  writeTimeout: 3s
  readOnly: false
  routeRandomly: false
poolRedis:
  addresses:
  masterName: ""
  dbNumber: 0
  password: ""
  prefix: *chainName
  readTimeout: 3s
  writeTimeout: 3s
  readOnly: false
  routeRandomly: false
ddAgentHost: ""
keyPair:
  storageFilePath: ""
  keyIDForSealingData:
    clientData: "1"
reloadConfig:
  httpUrl: ""
  interval: 10s
  serviceName: "aggregator"
  chainID: *chainId
secretKey:
metrics:
  host:
  port: 8125
  namespace: "kybernetwork."
encoder:
  chainId: *chainId
  executorAddress: *executorAddress
  routerAddress: *routerAddress
  isPositiveSlippageEnabled: true
  minimumPSThreshold: 1000000
useCase:
  getRoute:
    chainId: *chainId
    gasTokenAddress: *gasTokenAddress
    routerAddress: *routerAddress
    availableSources: *availableSources
    aggregator:
      whitelistedTokenSet: *whitelistedTokenSet
      getBestPoolsOptions:
        directPoolsCount: 100
        whitelistPoolsCount: 500
        tokenInPoolsCount: 200
        tokenOutPoolCount: 200
        amplifiedTvlDirectPoolsCount: 50
        amplifiedTvlWhitelistPoolsCount: 200
        amplifiedTvlTokenInPoolsCount: 100
        amplifiedTvlTokenOutPoolCount: 100
      finderOptions:
        maxHops: 3
        distributionPercent: 5
        maxPathsInRoute: 20
        maxPathsToGenerate: 5
        maxPathsToReturn: 200
        minPartUSD: 500
        minThresholdAmountInUSD: 0
        maxThresholdAmountInUSD: 100000000
        isHillClimbEnabled: false
        hillClimbDistributionPercent: 1
        hillClimbIteration: 2
        hillClimbMinPartUSD: 500
        isPathGeneratorEnabled: false
    cache:
      defaultTtl: 15s
      ttlByAmount:
        - amount: 1
          ttl: 30s
        - amount: 2
          ttl: 10s
        - amount: 5
          ttl: 10s
        - amount: 10
          ttl: 10s
        - amount: 11
          ttl: 30s
        - amount: 15
          ttl: 10s
        - amount: 20
          ttl: 10s
        - amount: 22
          ttl: 30s
        - amount: 25
          ttl: 10s
        - amount: 30
          ttl: 10s
        - amount: 33
          ttl: 30s
        - amount: 35
          ttl: 10s
        - amount: 40
          ttl: 10s
        - amount: 44
          ttl: 30s
        - amount: 45
          ttl: 10s
        - amount: 50
          ttl: 10s
        - amount: 55
          ttl: 30s
        - amount: 60
          ttl: 10s
        - amount: 66
          ttl: 30s
        - amount: 70
          ttl: 10s
        - amount: 77
          ttl: 30s
        - amount: 80
          ttl: 10s
        - amount: 88
          ttl: 30s
        - amount: 90
          ttl: 10s
        - amount: 99
          ttl: 30s
        - amount: 100
          ttl: 10s
        - amount: 500
          ttl: 10s
        - amount: 1000
          ttl: 10s
        - amount: 10000
          ttl: 10s
        - amount: 100000
          ttl: 10s
      ttlByAmountUsdRange:
        - amountUSDLowerBound: 0
          ttl: 10s
        - amountUSDLowerBound: 101
          ttl: 10s
        - amountUSDLowerBound: 500
          ttl: 10s
        - amountUSDLowerBound: 1001
          ttl: 10s
        - amountUSDLowerBound: 2000
          ttl: 10s
        - amountUSDLowerBound: 5000
          ttl: 10s
        - amountUSDLowerBound: 10000
          ttl: 10s
      priceImpactThreshold: 0.005
      shrinkFuncName: "round"
      shrinkDecimalBase: 10
      shrinkFuncPowExp: 0.7
      shrinkFuncLogPercent: 1.01
  buildRoute:
    chainId: *chainId
  poolFactory:
    chainId: *chainId
  poolManager:
    blacklistedPoolSet: *blacklistedPoolSet
    capacity: 1000000
    poolRenewalInterval: 3s
  indexPools:
    whitelistedTokenSet: *whitelistedTokenSet
    chunkSize: 3000
  trackExecutor:
    subgraphURL: https://bttc-graph.kyberengineering.io/subgraphs/name/kybernetwork/kyberswap-aggregator-bttc
job:
  indexPools:
    interval: 2s
  updateSuggestedGasPrice:
    interval: 15s
  trackExecutorBalance:
    interval: 1h
repository:
  gas:
    redis:
      prefix: *chainName
    ristretto:
      numCounters: 5000
      maxCost: 500
      bufferItems: 64
      suggestedGasPrice:
        cost: 1
        ttl: 2m
  pool:
    redis:
      prefix: *chainName
  price:
    redis:
      prefix: *chainName
    ristretto:
      numCounters: 10000
      maxCost: 1000
      bufferItems: 64
      price:
        cost: 1
        ttl: 1m
  token:
    redis:
      prefix: *chainName
    goCache:
      expiration: -1
      cleanupInterval: -1
  poolRank:
    redis:
      prefix: *chainName
  route:
    redisCache:
      prefix: *chainName
      localCacheSize: 5000
      localCacheTtl: 30s
validator:
  buildRouteParams:
    slippageToleranceGte: 0
    slippageToleranceLte: 5000
    blacklistedRecipientSet:
  getRouteEncodeParams:
    slippageToleranceGte: 0
    slippageToleranceLte: 5000
    blacklistedRecipientSet:
blackjackConfig:
  grpcConfig:
    BaseURL: blackjack-global-api.blackjack.svc:9080
    Insecure: true
    Timeout: 100ms
